{
  "hash": "d9518033cf286cb7ed9f584216c50434",
  "result": {
    "markdown": "---\ntitle: \"TidyTuesday: Open Psychometrics 2022Wk33\"\nauthor: \"Chun Su\"\ncategories: [\"MacOS\", \"R\"]\nimage: \"https://blog.trginternational.com/hubfs/images/cover.png\"\nexecute: \n  warning: false\n  message: false\nformat:\n  html:\n      code-fold: false\n      code-overflow: wrap\n---\n\n\n[TidyTuesday 2022-08-16](https://github.com/rfordatascience/tidytuesday/tree/master/data/2022/2022-08-16)\n\n[open psychometrics](https://openpsychometrics.org/tests/characters/documentation/)\n\nTwo tasks: - make a image-loaded fancy ggplot - use questions to predict myers_briggs type\n\nDiscussion: - how to use rating user number and standard deviation from the data - other ideas worth to try\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(ggimage)\ntheme_set(theme_bw())\n\ncharacters <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-08-16/characters.csv')\n\nmyers_briggs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-08-16/myers_briggs.csv')\n\npsych_stats <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-08-16/psych_stats.csv')\n```\n:::\n\n\n\nESTJ: extraversion (E), sensing (S), thinking (T), judgment (J)\nINFP: introversion (I), intuition (N), feeling (F), perception (P)\n\n# EDA\n\n## How `avg_rating` is related to `personality` and `question`?\n\nFor each question (`question`), it has two directions eg. messy/neat. All the `avg_rating` is >= 50. Based on a few characters I know, my understanding is, `avg_rating` indicates how confident that each character is defined as given `personality`, with closer to 100 meaning most confident, while closer to 50 meaning not sure. \n\nThe `psych_stats` will be re-formatted to each `question` has only one rating with more positive towards the first `personality` and more negative towards second `personality` while closer to 0 means unsure. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# determine the side (left/right) of personality on question.\npsych_questions <- psych_stats |>\n    distinct(question, personality) |>\n    filter(!str_detect(question, \".+\\\\/.+\\\\/\")) |>\n    separate(question,\n             c(\"left\", \"right\"),\n             sep = \"\\\\/\",\n             remove = F) |>\n    bind_rows(\n        psych_stats |>\n            distinct(question, personality) |>\n            filter(str_detect(question, \".+\\\\/.+\\\\/\")) |>\n            mutate(left = 'boy/girl-next-door', right = 'celebrity')\n    ) |> \n    mutate(direction = case_when(\n        left==personality ~ 'left',\n        right==personality ~ 'right'\n    )) |> \n    select(question, personality, direction) |> \n    arrange(question, direction)\n\npsych_stats_modified <- psych_stats |> \n    left_join(psych_questions) |> \n    mutate(modified_rating = case_when(\n        direction == \"left\" ~ -(avg_rating - 50) * 2,\n        direction == \"right\" ~ (avg_rating - 50) * 2\n    )) |> \n    select(char_name, uni_name, question, modified_rating)\n```\n:::\n\n\n\nSanity check - most messy and neat characters across universe.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\npsych_stats_modified |> \n    filter(question == \"messy/neat\") |> \n    arrange(modified_rating) |> \n    dplyr::slice(c(1:10, (n()-9):n())) |> \n    left_join(\n        characters |> \n            select(char_name = name, uni_name, image_link)\n    ) |> \n    ggplot(aes(x = modified_rating, y = fct_reorder(char_name, modified_rating))) +\n    geom_col(aes(fill = modified_rating)) +\n    geom_image(aes(x=0, image=image_link)) + \n    geom_text(aes(x = sign(modified_rating) * 50, label = char_name), color = 'white') + \n    scale_fill_gradient2() +\n    labs(x = \"messy <-> neat\", y = \"\") +\n    theme(axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks.y=element_blank(),\n        legend.position = \"none\") +\n    ggtitle(\"Top 10 characters on messy/neat\")\n```\n\n::: {.cell-output-display}\n![](2022-11-02-tidyTues_psychometrics_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=480}\n:::\n:::\n",
    "supporting": [
      "2022-11-02-tidyTues_psychometrics_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}